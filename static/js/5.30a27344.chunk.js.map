{"version":3,"sources":["components/card/index.js","utils/filterData.js","components/sort/index.js","utils/sort.js","components/search/style.js","components/search/index.js","pages/moviespage/style.js","pages/moviespage/index.js"],"names":["Meta","AntdCard","Card","title","imageUrl","hoverable","cover","alt","src","filterData","data","programType","entries","filter","entry","releaseYear","index","Option","Select","Sort","handleChange","styles","defaultValue","style","width","marginBottom","onChange","value","titleAToZ","a","b","titleZtoA","releaseYearLowToHigh","releaseYearHighToLow","InputX","styled","Input","media","tablet","mobile","SearchBy","placeholder","Container","div","MoviesPage","useState","sortBy","setSortBy","searchBy","setSearchBy","useContext","Context","state","fetchStreams","useEffect","Object","keys","length","console","log","Layout","size","e","target","alignSelf","gutter","item","toLowerCase","includes","sort","utils","map","images","lg","md","sm","xs","key","url"],"mappings":"wGAAA,6BAGQA,EAASC,IAATD,KAQOE,IANF,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OACX,kBAAC,IAAD,CAAUC,WAAS,EAACC,MAAO,yBAAKC,IAAI,UAAUC,IAAKJ,KACjD,kBAACJ,EAAD,CAAMG,MAAOA,O,iCCPjB,kCAAO,IAAMM,EAAa,SAACC,EAAMC,GAAP,OACxBD,EAAKE,QACFC,QACC,SAACC,GAAD,OAAWA,EAAMC,aAAe,MAAQD,EAAMH,cAAgBA,KAE/DE,QAAO,SAACC,EAAOE,GAAR,OAAkBA,EAAQ,Q,sECF9BC,EAAWC,IAAXD,OAkBOE,IAhBF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,OAC5B,OACE,oCACE,kBAAC,IAAD,CACEC,aAAa,YACbC,MAAK,aAAIC,MAAO,IAAKC,aAAc,IAAOJ,GAC1CK,SAAUN,GAEV,kBAACH,EAAD,CAAQU,MAAM,aAAd,eACA,kBAACV,EAAD,CAAQU,MAAM,aAAd,eACA,kBAACV,EAAD,CAAQU,MAAM,wBAAd,2BACA,kBAACV,EAAD,CAAQU,MAAM,wBAAd,+B,iCCRO,KACbC,UATgB,SAACC,EAAGC,GAAJ,OAAWD,EAAE1B,MAAQ2B,EAAE3B,MAAQ,GAAK,GAUpD4B,UARgB,SAACF,EAAGC,GAAJ,OAAWD,EAAE1B,MAAQ2B,EAAE3B,OAAS,EAAI,GASpD6B,qBAL2B,SAACH,EAAGC,GAAJ,OAAUD,EAAEd,YAAce,EAAEf,aAMvDkB,qBAR2B,SAACJ,EAAGC,GAAJ,OAAUA,EAAEf,YAAcc,EAAEd,e,uaCClD,IAAMmB,EAASC,YAAOC,IAAPD,CAAH,IAKfE,IAAMC,OALS,KASfD,IAAME,OATS,MCEJC,IAJE,SAAC,GAAD,IAAGpB,EAAH,EAAGA,aAAH,OACf,kBAACc,EAAD,CAAQO,YAAY,kBAAkBf,SAAUN,M,sRCF3C,IAAMsB,E,KAAYP,EAAOQ,IAAV,KCkEPC,UAvDI,WAAO,IAAD,EACKC,mBAAS,aADd,mBAChBC,EADgB,KACRC,EADQ,OAESF,mBAAS,IAFlB,mBAEhBG,EAFgB,KAENC,EAFM,OAGSC,qBAAWC,KAAnCC,EAHe,EAGfA,MAAOC,EAHQ,EAGRA,aAkBf,OARAC,qBAAU,WACsB,IAA9BC,OAAOC,KAAKJ,GAAOK,QAAgBJ,MAClC,CAACA,EAAcD,IAElBE,qBAAU,WACRI,QAAQC,IAAIX,KACX,CAACA,IAGF,kBAACY,EAAA,EAAD,CAAQzD,MAAM,kBACmB,IAA9BoD,OAAOC,KAAKJ,GAAOK,OAClB,kBAAC,IAAD,CAASI,KAAK,UAEd,kBAACnB,EAAD,KACE,kBAAC,IAAD,CAAQtB,aAlBU,SAAC0C,GACzBb,EAAYa,EAAEC,OAAOpC,UAkBf,kBAAC,IAAD,CACEP,aAxBiB,SAACO,GAC1BoB,EAAUpB,IAwBFN,OAAQ,CAAE2C,UAAW,cAGvB,kBAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,KACfxD,YAAW2C,EAAO,SAChBvC,QAAO,SAACqD,GAAD,OACNA,EAAK/D,MAAMgE,cAAcC,SAASpB,EAASmB,kBAE5CE,MAAK,SAACxC,EAAGC,GAAJ,OAAUwC,IAAMxB,GAAQjB,EAAGC,MAChCyC,KAAI,gBAAGpE,EAAH,EAAGA,MAAOqE,EAAV,EAAUA,OAAV,OACH,kBAAC,IAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAIC,IAAK1E,GACrC,kBAAC,IAAD,CACE0E,IAAK1E,EACLA,MAAOA,EACPC,SAAUoE,EAAO,cAAcM","file":"static/js/5.30a27344.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Card as AntdCard } from 'antd';\r\n\r\nconst { Meta } = AntdCard;\r\n\r\nconst Card = ({ title, imageUrl }) => (\r\n  <AntdCard hoverable cover={<img alt=\"example\" src={imageUrl} />}>\r\n    <Meta title={title} />\r\n  </AntdCard>\r\n);\r\n\r\nexport default Card;\r\n","export const filterData = (data, programType) =>\r\n  data.entries\r\n    .filter(\r\n      (entry) => entry.releaseYear >= 2010 && entry.programType === programType\r\n    )\r\n    .filter((entry, index) => index < 21);\r\n","import React from 'react';\r\nimport { Select } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst Sort = ({ handleChange, styles }) => {\r\n  return (\r\n    <>\r\n      <Select\r\n        defaultValue=\"titleAToZ\"\r\n        style={{ width: 180, marginBottom: 10, ...styles }}\r\n        onChange={handleChange}\r\n      >\r\n        <Option value=\"titleAToZ\">Title (A-Z)</Option>\r\n        <Option value=\"titleZtoA\">Title (Z-A)</Option>\r\n        <Option value=\"releaseYearLowToHigh\">Release year (Low-High)</Option>\r\n        <Option value=\"releaseYearHighToLow\">Release year (High-Low)</Option>\r\n      </Select>\r\n    </>\r\n  );\r\n};\r\nexport default Sort;\r\n","const titleAToZ = (a, b) => (a.title > b.title ? 1 : -1);\r\n\r\nconst titleZtoA = (a, b) => (a.title > b.title ? -1 : 1);\r\n\r\nconst releaseYearHighToLow = (a, b) => b.releaseYear - a.releaseYear;\r\n\r\nconst releaseYearLowToHigh = (a, b) => a.releaseYear - b.releaseYear;\r\n\r\nexport default {\r\n  titleAToZ,\r\n  titleZtoA,\r\n  releaseYearLowToHigh,\r\n  releaseYearHighToLow,\r\n};\r\n","import styled from 'styled-components';\r\nimport { Input } from 'antd';\r\n\r\nimport media from '../media';\r\n\r\nexport const InputX = styled(Input)`\r\n  align-self: center;\r\n  width: 50%;\r\n  margin-bottom: 10px;\r\n\r\n  ${media.tablet`\r\n      width:75%\r\n      `}\r\n\r\n  ${media.mobile`\r\n      width:100%\r\n      `}\r\n`;\r\n","import React from 'react';\r\nimport { InputX } from './style';\r\n\r\nconst SearchBy = ({ handleChange }) => (\r\n  <InputX placeholder=\"Search by Title\" onChange={handleChange} />\r\n);\r\n\r\nexport default SearchBy;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Row, Col } from 'antd';\r\n\r\nimport { Context } from '../../context/DataContext';\r\nimport { filterData } from '../../utils/filterData';\r\nimport Layout from '../../components/Layout/index';\r\nimport Card from '../../components/card';\r\nimport Spinner from '../../components/spinner';\r\nimport Sort from '../../components/sort';\r\nimport Search from '../../components/search';\r\nimport utils from '../../utils/sort';\r\nimport { Container } from './style';\r\n\r\nconst MoviesPage = () => {\r\n  const [sortBy, setSortBy] = useState('titleAToZ');\r\n  const [searchBy, setSearchBy] = useState('');\r\n  const { state, fetchStreams } = useContext(Context);\r\n\r\n  const handleSelectChange = (value) => {\r\n    setSortBy(value);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setSearchBy(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    Object.keys(state).length === 0 && fetchStreams();\r\n  }, [fetchStreams, state]);\r\n\r\n  useEffect(() => {\r\n    console.log(searchBy);\r\n  }, [searchBy]);\r\n\r\n  return (\r\n    <Layout title=\"Popular Movies\">\r\n      {Object.keys(state).length === 0 ? (\r\n        <Spinner size=\"large\" />\r\n      ) : (\r\n        <Container>\r\n          <Search handleChange={handleInputChange} />\r\n          <Sort\r\n            handleChange={handleSelectChange}\r\n            styles={{ alignSelf: 'flex-end' }}\r\n          />\r\n\r\n          <Row gutter={[16, 16]}>\r\n            {filterData(state, 'movie')\r\n              .filter((item) =>\r\n                item.title.toLowerCase().includes(searchBy.toLowerCase())\r\n              )\r\n              .sort((a, b) => utils[sortBy](a, b))\r\n              .map(({ title, images }) => (\r\n                <Col lg={4} md={6} sm={6} xs={12} key={title}>\r\n                  <Card\r\n                    key={title}\r\n                    title={title}\r\n                    imageUrl={images['Poster Art'].url}\r\n                  />\r\n                </Col>\r\n              ))}\r\n          </Row>\r\n        </Container>\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}